@page "/actua"

@using Services.CMS;
@using Shared.DTO.CMS;
@inject BlogService blogService
@using Syncfusion.Blazor.Navigations;
@inject Microsoft.AspNetCore.Components.NavigationManager UriHelper

<div class="wrapper">
<div class="control-section keyboard-carousel-section">
    <div class="col-lg-12 content-wrapper">
        <div class="carousel-sample">
            <SfCarousel CssClass="kb-carousel" AutoPlay="false" ShowPlayButton="true">
                @if (blogsObject.blogs != null)
                {
                    @foreach (var b in blogsObject.blogs)
                    {
                        <CarouselItem>
                            <div class="country-detail-container">
                                <div class="col-sm-5 detail-container">
                                    <div class="heading">@b.Title</div>
                                    <div class="description">@((MarkupString)b.Text)</div>
                                    <a class="detail" href="/actua-detail/@b.Id" target="_blank">READ MORE</a>
                                </div>
                                <div class="col-sm-5 image-container">
                                    <picture>
                                        <img src="@b.ImageLink" alt="@b.Title" style="height:100%;width:100%;" />
                                    </picture>
                                </div>
                            </div>
                        </CarouselItem>
                    }
                }
            </SfCarousel>
        </div>
        <div id="source_link">
            Source:
            <table>
                <tr>
                    <td>
                        <a href="https://en.wikipedia.org/" target="_blank">https://en.wikipedia.org/</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
</div>
@code {
    private (IEnumerable<BlogDTO> blogs, int totalPages) blogsObject;
    private int currentPage = 1;

    protected override async Task OnInitializedAsync()
    {
        blogsObject = await blogService.GetBlogs(currentPage, 5);
    }
}
