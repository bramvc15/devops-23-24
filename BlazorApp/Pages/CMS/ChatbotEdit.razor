@page "/chatbot"
@using Microsoft.JSInterop
@inject IJSRuntime JSRuntime
@using System.Text.Json
@using BlazorApp.Data
@using BlazorApp.Services
@using BlazorApp.Models
@using BlazorApp.Controllers
@inject DatabaseContext databaseContext
@using Microsoft.AspNetCore.Components
@inject ChatbotService ChatbotService

<PageTitle>Index</PageTitle>

<div class="content"> 
    <div class="container">
        <div id="accordion">
        @if (ChatBotObj != null)
        {
            foreach (var question in ChatBotObj)
            {
                  <ChatbotAccordion question=question/>
            }
        }
        </div> 
        <button class="btn">Voeg vraag toe</button>
    </div>
</div>

@code {
    IEnumerable<ChatBotQuestion>? ChatBotObj;
    private bool collapsed = true;

    protected override async Task OnInitializedAsync()
    {
        ChatBotObj = await Task.Run(() => ChatbotService.GetContent());
    }

    void Collapse()
    {
        collapsed = !collapsed;
    }
}